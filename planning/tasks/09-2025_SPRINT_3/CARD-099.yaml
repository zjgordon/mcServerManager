id: CARD-099
title: Add test discovery and listing capability to dev.sh
epic: Epic 3 â€“ Test Suite Stabilization
sprint: 09-2025_SPRINT_3
status: todo  # todo | doing | review | done | blocked
owner: cursor
links: []
acceptance:
  - Code compiles, lints, tests pass
  - Feature behind a flag if risky
  - Update planning/meta/PROJECT_HISTORY.md with log entry
  - Update meta/PROJECT_STATUS.md with one-liner
  - Commit follows Conventional Commits with [CARD-ID]
artifacts: []
notes: |
  **Problem**: Agents need a way to discover and list available tests to understand what they can run without having to explore the file system manually.
  
  **Solution**: Add --list option to dev.sh test command to show available tests using pytest --collect-only.
  
  **Implementation Details**:
  1. Add --list option to test command argument parsing
  2. Create new list_tests() function using pytest --collect-only
  3. Support filtering by test suite (--unit, --integration, etc.)
  4. Support filtering by pattern (--pattern with --list)
  5. Format output for readability
  6. Update help documentation with examples
  
  **New Usage Examples**:
  - `./dev.sh test --list`
  - `./dev.sh test --list --unit`
  - `./dev.sh test --list --pattern "authentication"`
  - `./dev.sh test --list --file tests/unit/test_server_management.py`
  
  **Files to Modify**:
  - dev.sh (main script file)
  - Add new list_tests() function
  - Update show_usage() function with list examples
  - Update argument parsing in main() function
  - Update run_tests() to handle --list option
  
  **Technical Requirements**:
  - Use pytest --collect-only for test discovery
  - Format output to show file, class, and function hierarchy
  - Support filtering by test suite and pattern
  - Handle large test suites gracefully (limit output)
  - Provide clear indication of test count
  - Maintain compatibility with existing options
